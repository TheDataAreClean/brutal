<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>arpit | data communicator | thedataareclean</title>
  <link rel="icon" type="image/png" href="../assets/favicon.png">
  <meta name="description" content="i help people understand their data — through products, research and stories.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="arpit | data communicator | thedataareclean">
  <meta property="og:description" content="i help people understand their data — through products, research and stories.">
  <meta property="og:url" content="https://thedataareclean.com">
  <meta property="og:image" content="https://thedataareclean.com/assets/og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="arpit | data communicator | thedataareclean">
  <meta name="twitter:description" content="i help people understand their data — through products, research and stories.">
  <meta name="twitter:image" content="https://thedataareclean.com/assets/og-image.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Schibsted+Grotesk:wght@400;700&display=swap" as="style">
  <link href="https://fonts.googleapis.com/css2?family=Schibsted+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
  <style>
    :root {
      --black: #1a1a1a;
      --white: #ffffff;
      --accent: var(--accent-light);
      --accent-light: #7d4abf;
      --accent-dark: #a878d8;
      --space-xl: clamp(64px, 10vh, 120px);
      --space-lg: clamp(48px, 7vh, 80px);
      --space-md: clamp(24px, 3vw, 40px);
      --space-sm: 12px;
      --padding: clamp(24px, 5vw, 64px);
      --box-gap: var(--space-sm);
      --box-pad: 12px 16px;
      --bar-h: 40px;
      --text-display: clamp(32px, 9vw, 128px);
      --text-heading: clamp(24px, 4vw, 36px);
      --text-subhead: clamp(18px, 2.5vw, 24px);
      --text-body: clamp(15px, 1.3vw, 17px);
      --text-small: 13px;
      --text-ui: 11px;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    ::selection {
      background: var(--accent);
      color: var(--white);
    }
    body {
      font-family: 'Schibsted Grotesk', sans-serif;
      font-weight: 400;
      background: var(--white);
      color: var(--black);
    }
    .highlight,
    .name {
      color: var(--accent);
    }
    [data-theme="dark"] {
      --black: #ffffff;
      --white: #000000;
      --accent: var(--accent-dark);
    }
    .top-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px var(--padding) var(--box-gap);
      background: var(--white);
    }
    .top-bar-center {
      display: flex;
      align-items: center;
      gap: var(--box-gap);
    }
    .nav-logo-wrap {
      position: relative;
      width: var(--bar-h);
      height: var(--bar-h);
      background: var(--accent);
    }
    .nav-logo-home {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 14px;
      cursor: pointer;
    }
    .nav-logo-season {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 14px;
      height: 14px;
      background: var(--black);
      border: none;
      cursor: pointer;
      padding: 0;
    }
    @media (hover: hover) {
      .nav-logo-season:hover {
        background: var(--white);
      }
    }
    .bar-box {
      border: 1px solid var(--black);
      width: var(--bar-h);
      height: var(--bar-h);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent);
      text-decoration: none;
      background: none;
      cursor: pointer;
      font-family: inherit;
    }
    @media (hover: hover) {
      .bar-box:hover {
        background: var(--accent);
        color: #ffffff;
        border-color: var(--accent);
      }
    }
    .bar-box .material-symbols-sharp {
      font-size: 18px;
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 18;
    }
    .bar-box svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }
    .icon-sun { display: none; }
    .icon-moon { display: inline; }
    [data-theme="dark"] .icon-sun { display: inline; }
    [data-theme="dark"] .icon-moon { display: none; }
    .season-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      margin-top: 8px;
      background: var(--black);
      color: var(--white);
      font-size: var(--text-ui);
      letter-spacing: 0.5px;
      white-space: nowrap;
      z-index: 20;
    }
    .season-dropdown.open {
      display: block;
    }
    .season-option {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      cursor: pointer;
      background: none;
      border: none;
      color: inherit;
      font: inherit;
      letter-spacing: inherit;
      width: 100%;
      text-align: left;
    }
    .season-option.active {
      background: var(--accent);
      color: #ffffff;
    }
    @media (hover: hover) {
      .season-option:hover {
        background: var(--accent);
        color: #ffffff;
      }
    }
    .season-swatch {
      width: 8px;
      height: 8px;
      flex-shrink: 0;
    }
    nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--box-gap) var(--padding) 20px;
      background: var(--white);
    }
    .nav-link-box {
      border: 1px solid var(--black);
      height: var(--bar-h);
      display: inline-flex;
      align-items: center;
      padding: 0 16px;
      font-size: var(--text-ui);
      font-weight: 700;
      letter-spacing: 1px;
      text-decoration: none;
      color: var(--accent);
    }
    .nav-link-box.active {
      background: var(--accent);
      color: #ffffff;
      border-color: var(--accent);
      text-decoration: none;
    }
    @media (hover: hover) {
      .nav-link-box:hover {
        background: var(--accent);
        color: #ffffff;
        border-color: var(--accent);
        text-decoration: none;
      }
    }
    .content-box {
      position: fixed;
      top: calc(var(--bar-h) + 20px + 2 * var(--box-gap));
      bottom: calc(var(--bar-h) + 20px + 2 * var(--box-gap));
      left: var(--padding);
      right: var(--padding);
      border: 1px solid var(--black);
      overflow-y: auto;
      scrollbar-width: none;
      padding: var(--box-gap) 0;
    }
    .content-box::-webkit-scrollbar {
      display: none;
    }
    .toast {
      height: var(--bar-h);
      display: flex;
      align-items: center;
      background: var(--accent);
      color: #ffffff;
      font-size: var(--text-ui);
      font-weight: 700;
      letter-spacing: 1px;
      padding: 0 16px;
      opacity: 0;
      pointer-events: none;
    }
    .toast.visible {
      opacity: 1;
    }
    .hero {
      min-height: calc(100vh - 2 * var(--bar-h) - 40px - 4 * var(--box-gap) - 2px);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 0 var(--padding);
      padding-bottom: var(--space-xl);
    }
    .hero h1 {
      font-size: var(--text-display);
      line-height: 1;
    }
    .tagline {
      font-size: var(--text-subhead);
      color: var(--black);
      max-width: 700px;
      line-height: 1.5;
    }
    .hero .tagline {
      margin-top: var(--space-md);
    }
    .page-intro {
      min-height: calc(100vh - 2 * var(--bar-h) - 40px - 4 * var(--box-gap) - 2px);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 0 var(--padding);
      padding-bottom: var(--space-xl);
    }
    .page-intro .tagline {
      font-size: var(--text-heading);
      max-width: none;
    }
    section {
      padding: var(--space-lg) var(--padding);
    }
    .section-title {
      font-size: var(--text-heading);
      font-weight: 400;
      line-height: 1.05;
      margin-bottom: var(--space-md);
    }
    .section-subtitle {
      font-size: var(--text-body);
      line-height: 1.5;
      margin-top: calc(-1 * var(--space-md) + 16px);
      margin-bottom: var(--space-md);
    }
    .about-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-md);
      align-items: start;
    }
    .about-content h2 {
      font-size: var(--text-heading);
      line-height: 1.5;
    }
    .about-content h2 .thin {
      display: block;
    }
    .about-text {
      font-size: var(--text-body);
      line-height: 1.5;
      border: 1px solid var(--black);
      padding: var(--box-pad);
    }
    .about-text p + p {
      margin-top: var(--space-md);
    }
    .projects {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
    }
    .project {
      display: flex;
      flex-direction: column;
      padding: var(--space-md) 0;
    }
    .project-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      text-decoration: none;
      color: inherit;
    }
    @media (hover: hover) {
      .project-header:hover {
        color: var(--accent);
      }
    }
    .project-name {
      font-size: var(--text-heading);
    }
    .project-role {
      font-size: var(--text-small);
      letter-spacing: 0.5px;
      margin-bottom: 16px;
    }
    .project-desc {
      font-size: var(--text-body);
      line-height: 1.5;
    }
    .project-desc a {
      color: var(--accent);
      text-decoration: none;
    }
    .project-desc a:hover {
      text-decoration: underline;
    }
    .project-arrow {
      color: var(--accent);
    }
    .project-arrow .material-symbols-sharp {
      font-size: 24px;
      font-variation-settings: 'FILL' 0, 'wght' 500, 'GRAD' 0, 'opsz' 24;
    }
    .skills-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--box-gap);
    }
    .skill-box {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      font-size: var(--text-small);
    }
    .services-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--box-gap);
    }
    .service-box {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      font-size: var(--text-small);
    }
    .lately-list {
      display: flex;
      flex-direction: column;
      gap: var(--box-gap);
      align-items: flex-start;
    }
    .lately-item {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: inherit;
    }
    .lately-label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: var(--text-small);
      letter-spacing: 1px;
      color: var(--accent);
    }
    .lately-label .material-symbols-sharp {
      font-size: 16px;
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 16;
    }
    .lately-value {
      font-size: var(--text-small);
      font-weight: 700;
      line-height: 1.4;
    }
    .lately-arrow {
      color: var(--accent);
      display: flex;
      align-items: center;
    }
    .lately-arrow .material-symbols-sharp {
      font-size: 16px;
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 16;
    }
    @media (hover: hover) {
      .lately-item:hover {
        color: var(--accent);
      }
    }
    .interests {
      display: flex;
      flex-wrap: wrap;
      gap: var(--box-gap);
    }
    .interest-tag {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      font-size: var(--text-body);
    }
    .gallery {
      display: flex;
      gap: var(--box-gap);
    }
    .gallery-col {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: var(--box-gap);
    }
    .gallery-item {
      border: 1px solid var(--black);
    }
    .gallery-item img {
      width: 100%;
      display: block;
    }
    .gallery-item figcaption {
      padding: var(--box-pad);
      font-size: var(--text-small);
      line-height: 1.4;
    }
    footer {
      padding: var(--space-lg) var(--padding);
    }
    .footer-meta {
      display: flex;
      flex-wrap: wrap;
      gap: var(--box-gap);
      font-size: var(--text-small);
    }
    .footer-meta > span {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      letter-spacing: 0.5px;
    }
    .footer-meta a {
      color: var(--accent);
      text-decoration: none;
    }
    .footer-meta a:hover {
      text-decoration: underline;
    }
    .footer-bottom {
      display: flex;
      flex-wrap: wrap;
      gap: var(--box-gap);
      margin-top: var(--space-lg);
      font-size: var(--text-small);
    }
    .footer-bottom > span {
      border: 1px solid var(--black);
      padding: var(--box-pad);
      letter-spacing: 0.5px;
    }
    .footer-bottom a {
      color: var(--accent);
      text-decoration: none;
    }
    .footer-bottom a:hover {
      text-decoration: underline;
    }
    @media (max-width: 768px) {
      .about-content {
        grid-template-columns: 1fr;
        gap: var(--space-md);
      }
      .project-arrow .material-symbols-sharp {
        font-size: 20px;
      }
      .lately-list {
        align-items: stretch;
      }
      .lately-item {
        flex-wrap: wrap;
        position: relative;
      }
      .lately-value {
        flex: 1 1 100%;
      }
      .lately-arrow {
        position: absolute;
        top: 12px;
        right: 16px;
      }
      .footer-meta,
      .footer-bottom {
        align-items: flex-start;
      }
      .gallery {
        flex-direction: column;
      }
      .gallery-col {
        display: contents;
      }
    }
    @media (min-width: 769px) and (max-width: 1024px) {
      .gallery {
        flex-wrap: wrap;
      }
      .gallery-col {
        flex: 1 1 calc(50% - var(--box-gap));
      }
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <div class="nav-logo-wrap">
      <a class="nav-logo-home" href="../"></a>
      <button class="nav-logo-season" onclick="toggleSeasons(event)" aria-label="Change accent color"></button>
      <div class="season-dropdown" id="season-dropdown"></div>
    </div>
    <div class="top-bar-center">
      <button class="bar-box" onclick="copyEmail()" aria-label="Copy email address">
        <span class="material-symbols-sharp">mail</span>
      </button>
      <a class="bar-box" href="https://www.instagram.com/thedataareclean/" target="_blank" rel="noopener" aria-label="Instagram">
        <svg viewBox="0 0 24 24"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10m0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>
      </a>
      <a class="bar-box" href="https://www.linkedin.com/in/thedataareclean/" target="_blank" rel="noopener" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
      </a>
    </div>
    <button class="bar-box" onclick="toggleTheme()" aria-label="Toggle dark mode">
      <span class="material-symbols-sharp icon-moon">dark_mode</span>
      <span class="material-symbols-sharp icon-sun">light_mode</span>
    </button>
  </div>

  <nav>
    <a class="nav-link-box active" href="../work/">work</a>
    <div class="toast" id="toast">email copied</div>
    <a class="nav-link-box " href="../play/">play</a>
  </nav>

  <div class="content-box">
  <section class="page-intro">
    <p class="tagline">at work,<br>i am a multi-disciplinary <span class="name">data communicator</span>.</p>
  </section>

  <!-- ABOUT -->
  <section>

    <div class="about-content">
      <h2>
        <span class="thin">what is a</span>
        <span class="highlight">data communicator</span> ?
      </h2>
      <div class="about-text">
        <p>
          i help people understand their data — through products, research and stories.
        </p>
        <p>
          after a decade of working on data focussed solutions across sectors, i've learned that the biggest challenge isn't the data itself. <span class="highlight">it's communicating data to the people who need it</span>.
        </p>
      </div>
    </div>
  </section>

  <!-- SKILLS -->
  <section>
    <h2 class="section-title"><span class="highlight">skills</span></h2>
    <div class="skills-grid">
      <div class="skill-box">data visualisation</div>
      <div class="skill-box">statistical analysis</div>
      <div class="skill-box">product strategy</div>
      <div class="skill-box">data storytelling</div>
      <div class="skill-box">audience research</div>
      <div class="skill-box">workshop facilitation</div>
    </div>
  </section>

  <!-- SERVICES -->
  <section>
    <h2 class="section-title"><span class="highlight">services</span></h2>
    <div class="services-grid">
      <div class="service-box">data communication strategy</div>
      <div class="service-box">dashboard & report design</div>
      <div class="service-box">data storytelling workshops</div>
      <div class="service-box">product analytics consulting</div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section class="projects-section">
    <h2 class="section-title">
      <span class="highlight">currently</span> working on
    </h2>
    <div class="projects">
      <div class="project">
        <a class="project-header" href="https://www.dataforindia.com/" target="_blank" rel="noopener">
          <span class="project-name">Data For India</span>
          <span class="project-arrow"><span class="material-symbols-sharp">arrow_outward</span></span>
        </a>
        <span class="project-role">audience and product lead</span>
        <span class="project-desc">leading audience engagement and product innovation at Data For India to make the platform's data-first information accessible.</span>
      </div>
      <div class="project">
        <a class="project-header" href="https://www.instagram.com/36truths/" target="_blank" rel="noopener">
          <span class="project-name">[thirty-six] truths:</span>
          <span class="project-arrow"><span class="material-symbols-sharp">arrow_outward</span></span>
        </a>
        <span class="project-role">storyteller</span>
        <span class="project-desc">co-running an independent data storytelling studio with <a href="https://thoughtput.in/" target="_blank" rel="noopener">Hamsa</a>, making small data cool again.</span>
      </div>
      <div class="project">
        <a class="project-header" href="https://vizchitra.com/" target="_blank" rel="noopener">
          <span class="project-name">VizChitra</span>
          <span class="project-arrow"><span class="material-symbols-sharp">arrow_outward</span></span>
        </a>
        <span class="project-role">core team volunteer</span>
        <span class="project-desc">contributing to India's premier data visualisation community and conference, helping practitioners learn, share and push the craft forward.</span>
      </div>
    </div>
  </section>

    <!-- FOOTER -->
    <footer>
    <div class="footer-meta">
      <span>Bengaluru, India</span>
      <span id="local-time">--:--</span>
      <span id="temperature">--</span>
      <span>AQI <span id="aqi">--</span></span>
    </div>

    <div class="footer-bottom">
      <span>designed by <a href="https://github.com/TheDataAreClean" target="_blank" rel="noopener">yours truly</a></span>
      <span>developed using <a href="https://claude.com/product/claude-code" target="_blank" rel="noopener">Claude Code</a></span>
      <span><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">CC BY</a> · 2026</span>
    </div>
    </footer>
  </div>

  <script>
    function toggleTheme() {
      var html = document.documentElement;
      var current = html.getAttribute('data-theme');
      var next = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      sessionStorage.setItem('theme', next);
    }
    function copyEmail() {
      navigator.clipboard.writeText('hello@thedataareclean.com').then(function() {
        var toast = document.getElementById('toast');
        toast.classList.add('visible');
        setTimeout(function() { toast.classList.remove('visible'); }, 2000);
      });
    }
    // Restore theme from session, else match OS
    (function() {
      var saved = sessionStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
    // Seasonal accent — Bengaluru blooms
    var seasons = [
      { name: 'Flame of Forest', light: '#c84520', dark: '#e87040' },
      { name: 'Jacaranda',       light: '#7d4abf', dark: '#a878d8' },
      { name: 'Pongamia',        light: '#9870b0', dark: '#b898d0' },
      { name: 'Golden Shower',   light: '#b89010', dark: '#d8b030' },
      { name: 'Gulmohar',        light: '#c83020', dark: '#e86040' },
      { name: 'Copper Pod',      light: '#a89018', dark: '#c8b030' },
      { name: 'Oleander',        light: '#c84568', dark: '#e87898' },
      { name: 'Bougainvillea',   light: '#c82852', dark: '#f0456a' },
      { name: 'Purple Bauhinia', light: '#8040a8', dark: '#a868c8' },
      { name: 'Tabebuia Rosea',  light: '#c85080', dark: '#e880a8' },
      { name: 'Rain Tree',       light: '#b87878', dark: '#d0a0a0' },
      { name: 'Poinsettia',      light: '#c02838', dark: '#e85060' }
    ];
    var monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    var activeSeason = new Date().getMonth();
    function applySeason(index, save) {
      activeSeason = index;
      document.documentElement.style.setProperty('--accent-light', seasons[index].light);
      document.documentElement.style.setProperty('--accent-dark', seasons[index].dark);
      var btns = document.querySelectorAll('.season-option');
      btns.forEach(function(btn, i) {
        btn.classList.toggle('active', i === index);
      });
      if (save) sessionStorage.setItem('season', index);
    }
    // Restore season from session, else default to current month
    var savedSeason = sessionStorage.getItem('season');
    applySeason(savedSeason !== null ? Number(savedSeason) : new Date().getMonth());
    // Build dropdown (safe DOM — no innerHTML)
    (function() {
      var dropdown = document.getElementById('season-dropdown');
      var currentMonth = new Date().getMonth();
      seasons.forEach(function(s, i) {
        var btn = document.createElement('button');
        btn.className = 'season-option' + (i === currentMonth ? ' active' : '');
        var swatch = document.createElement('span');
        swatch.className = 'season-swatch';
        swatch.style.background = s.light;
        btn.appendChild(swatch);
        btn.appendChild(document.createTextNode(monthNames[i] + ' \u2014 ' + s.name));
        btn.onclick = function(e) {
          e.stopPropagation();
          applySeason(i, true);
          dropdown.classList.remove('open');
        };
        dropdown.appendChild(btn);
      });
    })();
    function toggleSeasons(e) {
      e.stopPropagation();
      document.getElementById('season-dropdown').classList.toggle('open');
    }
    document.addEventListener('click', function() {
      document.getElementById('season-dropdown').classList.remove('open');
    });
    // Local time (pauses when tab is hidden)
    (function() {
      var timer;
      function updateTime() {
        var now = new Date().toLocaleTimeString('en-IN', { timeZone: 'Asia/Kolkata', hour: '2-digit', minute: '2-digit', hour12: true });
        document.getElementById('local-time').textContent = now + ' IST';
      }
      function start() { updateTime(); timer = setInterval(updateTime, 60000); }
      function stop() { clearInterval(timer); }
      start();
      document.addEventListener('visibilitychange', function() {
        if (document.hidden) { stop(); } else { start(); }
      });
    })();
    // Cached fetch helper (localStorage, 1h TTL)
    function cachedFetch(key, url, parse, onSuccess, onError) {
      var cached = localStorage.getItem(key);
      var ts = localStorage.getItem(key + '_ts');
      if (cached && ts && Date.now() - Number(ts) < 3600000) {
        onSuccess(cached);
        return;
      }
      fetch(url)
        .then(parse)
        .then(function(value) {
          localStorage.setItem(key, value);
          localStorage.setItem(key + '_ts', String(Date.now()));
          onSuccess(value);
        })
        .catch(function() { onError(); });
    }
    // Temperature from wttr.in (cached 1h)
    cachedFetch(
      'weather_temp',
      'https://wttr.in/Bengaluru?format=%t',
      function(r) { return r.text().then(function(t) { return t.trim(); }); },
      function(v) { document.getElementById('temperature').textContent = v; },
      function() { document.getElementById('temperature').textContent = '--'; }
    );
    // AQI from waqi.info (cached 1h)
    cachedFetch(
      'weather_aqi',
      'https://api.waqi.info/feed/bengaluru/?token=demo',
      function(r) {
        return r.json().then(function(d) {
          if (d.status === 'ok') {
            var aqi = d.data.aqi;
            var label = aqi <= 50 ? 'Good' : aqi <= 100 ? 'Moderate' : aqi <= 150 ? 'Unhealthy for some' : aqi <= 200 ? 'Unhealthy' : 'Poor';
            return aqi + ' \u2014 ' + label;
          }
          return '--';
        });
      },
      function(v) { document.getElementById('aqi').textContent = v; },
      function() { document.getElementById('aqi').textContent = '--'; }
    );
  </script>
</body>
</html>
